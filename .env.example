# =============================================================================
# HAFIPORTRAIT ENVIRONMENT VARIABLES
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (NeonDB)
# -----------------------------------------------------------------------------
# PostgreSQL connection string dari Neon
# Format: postgresql://USER:PASSWORD@HOST/DATABASE?sslmode=require
DATABASE_URL='postgresql://neondb_owner:npg_0NW1CGdAehbH@ep-restless-fire-a43pl1l2-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require'
# Direct database URL (untuk migrations)
DIRECT_URL="postgresql://neondb_owner:npg_0NW1CGdAehbH@ep-restless-fire-a43pl1l2-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require"

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis connection untuk rate limiting dan caching
# Local: redis://localhost:6379
# Production: redis://user:password@host:port
REDIS_URL="redis://localhost:6379"

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# JWT Secret - CRITICAL: Must be at least 32 characters!
# Generate dengan: openssl rand -base64 32
# NEVER use default value in production!
NEXTAUTH_SECRET="generate-a-secure-secret-minimum-32-characters-long"

# JWT Expiration time (default: 24h)
JWT_EXPIRATION="24h"

# Bcrypt rounds untuk password hashing (12-15, default: 12)
BCRYPT_ROUNDS="12"

# Allowed CORS origins (comma-separated)
# Example: "https://example.com,https://app.example.com"
ALLOWED_ORIGINS="http://localhost:3000"

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Environment mode
NODE_ENV="development"

# Application URLs
NEXTAUTH_URL="http://localhost:3000"
NEXT_PUBLIC_API_URL="http://localhost:3000/api"

# -----------------------------------------------------------------------------
# Cloudflare R2 Storage Configuration
# -----------------------------------------------------------------------------
# R2 public bucket URL
R2_PUBLIC_URL="https://pub-99b01fc471a343c6ba5c1eae285ddf9e.r2.dev"

# R2 API endpoint
R2_ENDPOINT="https://0a21532cc7638a2a70023eadd7ca9165.r2.cloudflarestorage.com"

# R2 Access credentials
R2_ACCESS_KEY=c8919ca89140cf24f68bde8f76dffa48
R2_SECRET_KEY=2592753bdea15840b6e7e9bc13449b0a7b5290490e264274cd52c8456d426f5a
# R2 Bucket name
R2_BUCKET="photos"

# R2 Region (usually "auto" for R2)
R2_REGION="auto"

# CDN URL (jika menggunakan custom domain)
#NEXT_PUBLIC_CDN_URL="https://cdn.hafiportrait.com"

# -----------------------------------------------------------------------------
# Socket.IO Configuration (Real-time Features)
# -----------------------------------------------------------------------------
# Enable/disable Socket.IO
SOCKET_IO_ENABLED="true"

# Socket.IO server URL
NEXT_PUBLIC_SOCKET_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# Optional: WhatsApp Integration
# -----------------------------------------------------------------------------
# WhatsApp API configuration (jika digunakan)
WHATSAPP_API_URL=""
WHATSAPP_API_KEY=""
WHATSAPP_PHONE_NUMBER=""

# -----------------------------------------------------------------------------
# Optional: Monitoring & Analytics
# -----------------------------------------------------------------------------
# Sentry DSN untuk error tracking
SENTRY_DSN=""

# Google Analytics ID
NEXT_PUBLIC_GA_ID=""

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# 1. Copy this file to .env.local:
#    cp .env.example .env.local
#
# 2. Generate secure JWT secret:
#    openssl rand -base64 32
#
# 3. Update database credentials dari Neon dashboard
#
# 4. Configure Redis (local atau cloud)
#
# 5. Setup Cloudflare R2 bucket dan credentials
#
# 6. Run database migrations:
#    npm run prisma:migrate
#
# 7. Seed database (optional):
#    npm run prisma:seed
#
# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# ⚠️  NEVER commit .env.local to version control!
# ⚠️  Use strong, unique secrets for production
# ⚠️  Rotate secrets regularly
# ⚠️  Use different credentials for development and production
# ⚠️  Enable 2FA for all service accounts
#
# =============================================================================

# Socket.IO Real-time Features (Production)
NEXT_PUBLIC_SOCKET_URL="http://localhost:3001"
SOCKET_PORT=3001
REDIS_URL="redis://localhost:6379"
ALLOWED_ORIGINS="http://localhost:3000,https://hafiportrait.photography,https://www.hafiportrait.photography"

# Feature Flags
NEXT_PUBLIC_ENABLE_REALTIME=true
